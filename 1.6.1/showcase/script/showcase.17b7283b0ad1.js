qx.$$packageData['512']={"locales":{},"resources":{"qx/icon/Tango/22/emotes/face-angel.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-embarrassed.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-kiss.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-laugh.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-plain.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-raspberry.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-sad.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-smile-big.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-smile.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-surprise.png":[22,22,"png","qx"],"showcase/virtuallist/imicons/christian_hagendorn.png":[52,64,"png","showcase"],"showcase/virtuallist/imicons/martin_wittemann.png":[52,52,"png","showcase"],"showcase/virtuallist/imicons/readme.txt":"showcase","showcase/virtuallist/imicons/status_away.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/status_busy.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/status_offline.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/status_online.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/tino_butz.png":[48,48,"png","showcase"],"showcase/virtuallist/imicons/tristan_koch.png":[73,73,"png","showcase"],"showcase/virtuallist/imicons/user_add.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/user_delete.png":[16,16,"png","showcase"]},"translations":{}};
qx.Part.$$notifyLoad("512", function() {
(function(){var h="changeOpen",g="Boolean",f="changeCount",e="changeName",d="showcase.page.virtuallist.messenger.GroupModel",c="Friends",b="Integer",a="String";
qx.Class.define(d,{extend:qx.core.Object,construct:function(name){qx.core.Object.call(this);

if(name!==undefined){this.setName(name);
}},properties:{name:{init:c,event:e,check:a},open:{check:g,init:true,event:h},count:{check:b,init:0,event:f}}});
})();
(function(){var u="icon",t="label",s="count",r="decoration/arrows/down-invert.png",q="white",p="bold",o="_applyName",n="_applyCount",m="rgb(60, 97, 226)",l="Boolean",e="changeOpen",k="",h="(",c="click",b="_applyOpen",g="middle",f=")",i="showcase.page.virtuallist.messenger.Group",a="decoration/arrows/right-invert.png",j="Integer",d="String";
qx.Class.define(i,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);
this.set({backgroundColor:m,padding:[0,3]});
this._setLayout(new qx.ui.layout.HBox(3).set({alignY:g}));
this._add(this.getChildControl(u));
this._add(this.getChildControl(t),{flex:1});
this._add(this.getChildControl(s));
},properties:{open:{check:l,event:e,apply:b,init:true},name:{check:d,apply:o,init:k},count:{check:j,apply:n,init:0}},members:{_createChildControlImpl:function(v,w){var x;

switch(v){case t:x=new qx.ui.basic.Label().set({allowGrowX:true,textColor:q,font:p});
break;
case u:x=new qx.ui.basic.Image().set({source:r});
x.addListener(c,this._onClick,this);
break;
case s:x=new qx.ui.basic.Label().set({textColor:q,font:p});
break;
}return x||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,v);
},_applyOpen:function(y,z){var A=r;

if(y==false){A=a;
}this.getChildControl(u).setSource(A);
},_applyName:function(B,C){this.getChildControl(t).setValue(B);
},_applyCount:function(D,E){this.getChildControl(s).setValue(h+D+f);
},_onClick:function(event){this.toggleOpen();
}}});
})();
(function(){var m="",l="icon",k="label",j="statusIcon",i="String",h="listitem",g="showcase.page.virtuallist.messenger.Buddy",f=".png",e="_applyAvatar",d="middle",a="_applyLabel",c="_applyStatus",b="showcase/virtuallist/imicons/status_";
qx.Class.define(g,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);
this.set({padding:[0,3]});
this._setLayout(new qx.ui.layout.HBox(3).set({alignY:d}));
this._add(this.getChildControl(j));
this._add(this.getChildControl(k),{flex:1});
this._add(this.getChildControl(l));
},properties:{appearance:{refine:true,init:h},name:{check:i,apply:a,init:m},avatar:{check:i,apply:e,init:m},status:{check:i,apply:c,init:m}},members:{_createChildControlImpl:function(n,o){var p;

switch(n){case k:p=new qx.ui.basic.Label().set({allowGrowX:true});
break;
case l:p=new qx.ui.basic.Image().set({width:26,height:26,scale:true});
break;
case j:p=new qx.ui.basic.Image();
break;
}return p||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,n);
},_applyLabel:function(q,r){this.getChildControl(k).setValue(q);
},_applyAvatar:function(s,t){this.getChildControl(l).setSource(s);
},_applyStatus:function(u,v){var w=b+u+f;
this.getChildControl(j).setSource(w);
}}});
})();
(function(){var k="_applyEventPropagation",j="offline",h="String",g="Friends",f="away",e="online",d="busy",c="User #",b="qooxdoo",a="Alexander Steitz",O=".png",N="kiss",M="changeStatus",L="icon/22/emotes/face-smile.png",K="embarrassed",J="showcase/virtuallist/imicons/christian_hagendorn.png",I="showcase/virtuallist/imicons/tino_butz.png",H="plain",G="smile-big",F="surprise",r="smile",s="raspberry",p="sad",q="showcase/virtuallist/imicons/martin_wittemann.png",n="changeGroup",o="Tino Butz",l="showcase/virtuallist/imicons/tristan_koch.png",m="changeAvatar",t="Daniel Wagner",u="showcase.page.virtuallist.messenger.BuddyModel",x="(unnamed)",w="Andreas Ecker",z="Christian Hagendorn",y="laugh",B="Thomas Herchenr√∂der",A="changeName",v="angel",E="icon/22/emotes/face-",D="Tristan Koch",C="Martin Wittemann";
qx.Class.define(u,{extend:qx.core.Object,include:qx.data.marshal.MEventBubbling,properties:{name:{init:x,event:A,check:h,apply:k},avatar:{init:L,event:m,check:h,apply:k},status:{init:j,event:M,check:[f,d,e,j],apply:k},group:{init:g,event:n,check:h,apply:k}},statics:{createBuddies:function(P){var R=[{name:a,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus()},{name:w,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus()},{name:C,img:q,statusIcon:this.getRandomStatus()},{name:B,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus()},{name:t,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus()},{name:z,img:J,statusIcon:this.getRandomStatus()},{name:o,img:I,statusIcon:this.getRandomStatus()},{name:D,img:l,statusIcon:this.getRandomStatus()}];

for(var i=0;i<R.length;i++){R[i].group=b;
}for(var i=R.length;i<P;i++){R[i]={name:c+i,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus(),group:g};
}var Q=[];

for(var i=0;i<R.length;i++){var S=new showcase.page.virtuallist.messenger.BuddyModel().set({name:R[i].name,avatar:R[i].img,status:R[i].statusIcon,group:R[i].group});
Q.push(S);
}return new qx.data.Array(Q);
},getRandomBuddy:function(){var T=[v,K,N,y,H,s,p,G,r,F];
return E+T[Math.floor(Math.random()*T.length)]+O;
},getRandomStatus:function(){var U=[f,d,e,j];
return U[Math.floor(Math.random()*U.length)];
}}});
})();
(function(){var k="scroll",j="scrollbar-x",i="scrollbar-y",h="_applyInterval",g="__it",f="appear",e="interval",d="qx.ui.virtual.behavior.Prefetch",c="_applyScroller",b="qx.ui.virtual.core.Scroller",a="Integer";
qx.Class.define(d,{extend:qx.core.Object,construct:function(l,m){qx.core.Object.call(this);
this.setPrefetchX(m.minLeft,m.maxLeft,m.minRight,m.maxRight);
this.setPrefetchY(m.minAbove,m.maxAbove,m.minBelow,m.maxBelow);
this.__it=new qx.event.Timer(this.getInterval());
this.__it.addListener(e,this._onInterval,this);

if(l){this.setScroller(l);
}},properties:{scroller:{check:b,nullable:true,init:null,apply:c},interval:{check:a,init:200,apply:h}},members:{__ww:null,__wx:null,__it:null,__wy:null,__wz:null,setPrefetchX:function(n,o,p,q){this.__ww=[n,o,p,q];
},setPrefetchY:function(r,s,t,u){this.__wx=[r,s,t,u];
},_onInterval:function(){var v=this.__ww;

if(v[1]&&v[3]){this.getScroller().getPane().prefetchX(v[0],v[1],v[2],v[3]);
qx.ui.core.queue.Manager.flush();
}var w=this.__wx;

if(w[1]&&w[3]){this.getScroller().getPane().prefetchY(w[0],w[1],w[2],w[3]);
qx.ui.core.queue.Manager.flush();
}},_applyScroller:function(x,y){if(y){if(this.__wy){y.getChildControl(j).removeListenerById(this.__wy);
}
if(this.__wz){y.getChildControl(i).removeListenerById(this.__wz);
}}
if(x){if(!x.getContainerElement().getDomElement()){this.__it.stop();
x.addListenerOnce(f,this.__it.start,this.__it);
}else{this.__it.restart();
}this.__wy=x.getChildControl(j).addListener(k,this.__it.restart,this.__it);
this.__wz=x.getChildControl(i).addListener(k,this.__it.restart,this.__it);
}else{this.__it.stop();
}},_applyInterval:function(z,A){this.__it.setInterval(z);
}},destruct:function(){this.setScroller(null);
this.__ww=this.__wx=null;
this._disposeObjects(g);
}});
})();
(function(){var w="name",v="open",u="qx.data.Array",t="changeBubble",s="model",r="change",q="count",p="avatar",o="status",n="changeModel",f="changeOpen",m="rgb(238, 243, 255)",j="row-layer",e="off",d="white",h="changeSelection",g="changeGroup",k="showcase.page.virtuallist.messenger.Roster",c="_applyModel",l="auto";
qx.Class.define(k,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);
var z=new qx.ui.layout.VBox();
this._setLayout(z);
var x=this.list=new qx.ui.list.List();
x.set({scrollbarX:e,scrollbarY:l,width:200,height:300,itemHeight:28,decorator:null,autoGrouping:false});
x.setDelegate(this);
this._add(x,{flex:1});
this.initGroups(x.getGroups());
this.initModel(new qx.data.Array());
this.initSelection(x.getSelection());
this.bind(s,x,s);
var y=x.getChildControl(j);
y.set({colorEven:d,colorOdd:m});
new qx.ui.virtual.behavior.Prefetch(x,{minLeft:0,maxLeft:0,minRight:0,maxRight:0,minAbove:600,maxAbove:800,minBelow:600,maxBelow:800}).set({interval:500});
},properties:{model:{check:u,event:n,apply:c,nullable:false,deferredInit:true},selection:{check:u,event:h,nullable:false,deferredInit:true},groups:{check:u,event:g,nullable:false,deferredInit:true}},members:{createItem:function(){return new showcase.page.virtuallist.messenger.Buddy();
},createGroupItem:function(){return new showcase.page.virtuallist.messenger.Group();
},bindItem:function(A,B,C){A.bindProperty(w,w,null,B,C);
A.bindProperty(p,p,null,B,C);
A.bindProperty(o,o,null,B,C);
},bindGroupItem:function(D,E,F){D.bindProperty(w,w,null,E,F);
D.bindProperty(q,q,null,E,F);
D.bindProperty(v,v,null,E,F);
D.bindPropertyReverse(v,v,null,E,F);
},filter:function(G){return this.__wu(G.getGroup()).isOpen();
},sorter:function(a,b){return a.getName()<b.getName()?-1:1;
},group:function(H){return this.__wu(H.getGroup());
},_applyModel:function(I,J){I.addListener(r,this.__wt,this);
I.addListener(t,this.__wt,this);

if(J!=null){J.removeListener(r,this.__wt,this);
J.removeListener(t,this.__wt,this);
}this.__wt();
},__wt:function(event){var N=this.getModel();
var M=this.getGroups();
var O={};

for(var i=0;i<M.getLength();i++){var L=M.getItem(i);
O[L.getName()]=0;
}
for(var i=0;i<N.getLength();i++){var L=N.getItem(i).getGroup();

if(O[L]==null){O[L]=1;
}else{O[L]+=1;
}}
for(var name in O){var K=O[name];
var L=this.__wu(name);
L.setCount(K);
}
if(event&&event.getType()==t){this.list.refresh();
}},__wu:function(name){var R=this.getGroups();
var Q=null;

for(var i=0;i<R.getLength();i++){var P=R.getItem(i);

if(name==P.getName()){Q=P;
break;
}}
if(Q==null){Q=new showcase.page.virtuallist.messenger.GroupModel(name);
Q.addListener(f,this.__wv,this);
R.push(Q);
}return Q;
},__wv:function(event){this.list.refresh();
}}});
})();
(function(){var k="execute",j="middle",i="name",h="",g="away",f="offline",d="value",c="online",b="icon",a="busy",S="selection[0].status",R="right",Q="separator-vertical",P="Escape",O="Cancel",N="Group: ",M="Name:",L="Enter",K="source",J="Group:",r="selection[0]",s="showcase.page.virtuallist.Content",p="center",q="showcase/virtuallist/imicons/user_delete.png",n="enabled",o="icon/16/actions/list-add.png",l="group",m="Name: ",t="keypress",u="selection.length",B="modelSelection",z="top",D="Contacts",C="Status: ",F="selection",E="Add",w="Contact Details",I="Add user",H="model",G="appear",v="avatar",x="showcase/virtuallist/imicons/user_add.png",y="left",A="Avatar: ";
qx.Class.define(s,{extend:showcase.AbstractContent,construct:function(T){showcase.AbstractContent.call(this,T);
this.setView(this._createView());
},members:{messenger:null,__wr:null,__ws:null,_createView:function(){var X=new qx.ui.window.Desktop(new qx.ui.window.Manager());
var U=new qx.ui.window.Window(D);
U.set({showClose:false,showMinimize:false,contentPadding:0});
X.add(U);
U.moveTo(250,20);
U.open();
var W=new qx.ui.layout.VBox();
W.setSeparator(Q);
U.setLayout(W);
this.messenger=new showcase.page.virtuallist.messenger.Roster();
var V=showcase.page.virtuallist.messenger.BuddyModel.createBuddies(200);
this.messenger.setModel(V);
U.add(this.createToolbar());
U.add(this.messenger,{flex:1});
X.add(this.createDetailsView(),{left:20,top:20});
return X;
},createToolbar:function(){var toolbar=new qx.ui.toolbar.ToolBar();
var bb=new qx.ui.toolbar.Part();
toolbar.add(bb);
var Y=new qx.ui.toolbar.Button(h,x).set({show:b});
Y.addListener(k,this.showAddContactWindow,this);
bb.add(Y);
var ba=new qx.ui.toolbar.Button(h,q).set({show:b});
this.messenger.bind(u,ba,n,{converter:function(bc){return bc>0;
}});
ba.addListener(k,function(){this.messenger.getModel().remove(this.messenger.getSelection().getItem(0));
},this);
bb.add(ba);
return bb;
},createDetailsView:function(){var bg=new qx.data.controller.Object();
this.messenger.bind(r,bg,H);
var bd=new qx.ui.groupbox.GroupBox(w);
var bh=new qx.ui.layout.Grid(5,5);
bh.setColumnAlign(0,R,j);
bd.setLayout(bh);
bd.add(new qx.ui.basic.Label(m),{row:0,column:0});
var bj=new qx.ui.form.TextField();
bg.addTarget(bj,d,i,true);
bd.add(bj,{row:0,column:1});
bd.add(new qx.ui.basic.Label(N),{row:1,column:0});
var be=new qx.ui.form.VirtualComboBox();
be.setLabelPath(i);
be.setModel(this.messenger.getGroups());
bg.addTarget(be,d,l,true);
bd.add(be,{row:1,column:1});
bd.add(new qx.ui.basic.Label(C),{row:2,column:0});
var bi=new qx.ui.form.SelectBox();
bi.add(new qx.ui.form.ListItem(c).set({model:c}));
bi.add(new qx.ui.form.ListItem(g).set({model:g}));
bi.add(new qx.ui.form.ListItem(a).set({model:a}));
bi.add(new qx.ui.form.ListItem(f).set({model:f}));
this.messenger.bind(S,bi,B,{converter:function(bk){return [bk];
}});
bi.bind(F,this.messenger,S,{converter:function(bl){return bl[0].getModel();
}});
bd.add(bi,{row:2,column:1});
bd.add(new qx.ui.basic.Label(A).set({alignY:z}),{row:3,column:0});
var bf=new qx.ui.basic.Image().set({alignX:p,maxWidth:70,maxHeight:70,scale:true});
bg.addTarget(bf,K,v);
bd.add(bf,{row:3,column:1});
return bd;
},showAddContactWindow:function(){if(this.__wr==null){var bm=new qx.ui.layout.Grid(5,10);
var bo=new qx.ui.window.Window(I,o);
bo.set({width:165,height:100,showMinimize:false,showClose:false,showMaximize:false});
bo.setLayout(bm);
var br=new qx.ui.basic.Label(M);
var bs=new qx.ui.form.TextField();
var bp=new qx.ui.form.VirtualComboBox();
bp.setLabelPath(i);
bp.setModel(this.messenger.getGroups());
var bn=new qx.ui.basic.Label(J);
var bu=new qx.ui.form.Button(E);
var bt=new qx.ui.form.Button(O);
this.__ws=bs;
bu.setAllowGrowX(false);
bt.setAllowGrowX(false);
bo.addListener(G,bs.focus,bs);
bt.addListener(k,bo.close,bo);
var bq=function(){var bv=new showcase.page.virtuallist.messenger.BuddyModel();
bv.setName(bs.getValue());
bv.setGroup(bp.getValue());
this.messenger.getModel().push(bv);
this.messenger.getSelection().setItem(0,bv);
bo.close();
};
bu.addListener(k,bq,this);
bo.addListener(t,function(e){var bw=e.getKeyIdentifier();

if(bw==L){bq.call(this);
}else if(bw==P){bo.close();
}},this);
bo.add(br,{row:0,column:0});
bo.add(bs,{row:0,column:1,colSpan:2});
bo.add(bn,{row:1,column:0});
bo.add(bp,{row:1,column:1,colSpan:2});
bo.add(bu,{row:2,column:1});
bo.add(bt,{row:2,column:2});
bm.setColumnAlign(0,y,j);
bm.setColumnAlign(1,R,j);
this.getView().add(bo,{left:270,top:40});
this.__wr=bo;
}this.__ws.setValue(h);
this.__wr.open();
},removeContact:function(){this.messenger.getModel().pop();
}}});
})();

});